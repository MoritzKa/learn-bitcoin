## O que é mineração de Bitcoin?
Você não precisa entender como a mineração de Bitcoin funciona para usar o Bitcoin, mas se estiver interessado nos detalhes, o que os mineradores fazem e como o bitcoin passa a existir, continue lendo.

### Mineração em palavras fáceis
Imagine que você queira encher um museu com obras de arte feitas de quebra-cabeças, onde cada quebra-cabeça contribuirá para a experiência do visitante. Existem regras claras: apenas os quebra-cabeças montados corretamente e que venceram uma competição podem ser colocados no museu. Você selecionará e dará uma recompensa à criança que terminar o quebra-cabeça mais difícil primeiro. Você não quer que a criança seja capaz de enganar os outros ou saber de antemão qual quebra-cabeça vai ganhar. Você envia a 10.000 crianças de todo o mundo o mesmo quebra-cabeça e elas começam a montá-lo peça por peça ao mesmo tempo. A criança que terminar de juntar as peças primeiro ganha o prêmio. Dessa forma há uma prova de trabalho, o quebra-cabeça completo é a prova.

O processo de construção do quebra-cabeça não pode ser corrompido, as peças erradas do quebra-cabeça não podem ser inseridas e a criança vencedora não pode ser selecionada artificialmente. A criança mais rápida ganha o prêmio. Estas são as regras. Você só pode alterar as regras se os pais, as crianças, o designer de quebra-cabeças e o museu - todos os participantes da rede do quebra-cabeça - decidirem coletivamente fazê-lo. Aqui, quando falamos sobre o prêmio, estamos falando metaforicamente sobre a criação do bitcoin.

É mais ou menos disso que trata a prova de trabalho. Milhares de computadores em todo o mundo resolvendo enigmas matemáticos ao mesmo tempo, mostrando que eles se esforçam e, ao mesmo tempo, descentralizam os ganhos de recompensa para que ninguém possa conspirar ou prever qual minerador será o próximo a adicionar um bloco à cadeia. O esforço dos mineradores para validar as transações e formar blocos não apenas prova seu trabalho, mas também protege a blockchain. Você não pode alterar o passado - transações históricas - na blockchain do Bitcoin sem gastar muito dinheiro em infraestrutura e eletricidade para reescrever o blockchain. É por isso que os ataques à rede Bitcoin são possíveis em teoria, mas são muito, muito caros na realidade.

### Mineração em detalhes

Imagine que você já está usando Bitcoin e tem uma carteira Bitcoin instalada em seu smartphone. Você faz o pedido de um produto pela internet, escolhendo bitcoin como forma de pagamento. O site mostrará seu endereço Bitcoin e você usará sua carteira móvel para enviar a quantia necessária. Então acontece o seguinte:

Sua carteira assina a transação. Ele é então transmitido para a rede Bitcoin e entra em um conjunto de outras transações não confirmadas, que é chamado de Mempool. O beneficiário recebe sua transação e seu nó completo valida a transação. Ele ainda aguarda, no entanto, a confirmação de que a transação foi adicionada com sucesso a um bloco antes de determinar a finalização. Esse é o momento em que você vê que sua transação foi enviada em sua carteira, mas está pendente, o que significa que ainda não foi finalmente liquidada no blockchain. Você tem zero confirmações neste momento.

Ao mesmo tempo, os mineradores também recebem sua transação no Mempool de seu nó. Um minerador de Bitcoin é um dispositivo especializado chamado ASIC. Sua única tarefa é executar o algoritmo de hash e resolver o quebra-cabeça de mineração o mais rápido possível. Existem centenas de milhares deles, descentralizados em todo o mundo.

Os mineradores também têm o software full node em execução que valida sua transação, verificando se todas as regras do protocolo foram seguidas e se você, como pagador, tem bitcoins suficientes para pagar a transação. Se a resposta a essas verificações for sim, eles adicionam a transação ao seu modelo de bloco. Mas antes de tudo, quando eles geram um novo modelo de bloco, o minerador insere a chamada transação base de moedas que, se vencer a corrida de mineração, pagará 6,25 bitcoins como recompensa. Depois de construir a transação coinbase, os computadores selecionam as transações do Mempool e as adicionam ao modelo de bloco gerado anteriormente.

Ao mesmo tempo, os computadores de hashing (ASICs) estão começando a resolver o quebra-cabeça matemático. Eles competem com todos os outros computadores de mineração em todo o mundo. O hasher que resolve o quebra-cabeça primeiro transmite o bloco para seus nós pares, que o verificam e o retransmitem para seus pares, e assim por diante até que todos os nós da rede tenham verificado e armazenado o bloco. Depois que mais 99 blocos são adicionados ao blockchain, o minerador vencedor pode gastar o subsídio criado anteriormente de 6,25 bitcoins.

O beneficiário, na verdade, seu nó completo, recebe o bloco e o valida novamente e, finalmente, confirma sua transação. Seu pagamento agora está anexado à cadeia em um bloco de dados e está concluído. Você recebe uma confirmação em sua carteira Bitcoin de que o pagamento chegou ao destinatário. Você vê em sua carteira que sua transação tem 1 confirmação. A cada 10 minutos, um novo bloco é criado e adicionado após o bloco que contém sua transação. Após seis blocos a transação é considerada praticamente irreversível.

O período de tempo que sua transação precisa ser liquidada depende da taxa de transação que você está selecionando e pagando. Quanto maior a taxa, mais rápido os mineradores inserirão sua transação em um bloco, pois eles ganham essas taxas além da recompensa do bloco de 6,25 bitcoins.

Por que esse quebra-cabeça matemático? A prova de trabalho consome muitos recursos, pois os computadores exigem grandes quantidades de energia. Esse fato leva a críticas ao Bitcoin à luz das mudanças climáticas que nós humanos criamos nas últimas décadas. O Capítulo "Pegada Ecológica do Bitcoin" trata dessa questão com mais detalhes.

Por que precisamos usar tanta eletricidade? A resposta é segurança e descentralização. A necessidade de colocar esforço e energia na mineração protege os dados na blockchain da manipulação e os torna imutáveis e não censuráveis. Nenhum estado ou organização pode mudar o blockchain.

Desde sua criação em 2009, a blockchain do Bitcoin nunca foi hackeada. Cerca de 18,74 milhões de bitcoins foram criados até agora, atualmente valendo mais de seiscentos bilhões de dólares (junho de 2021). Embora um hack bem-sucedido da rede Bitcoin seja preocupante e destrua muita confiança, exigiria que pelo menos 51% do poder de mineração do Bitcoin estivesse concentrado em um proprietário ou conglomerado. Isso pode permitir que uma parte mal-intencionada gere novos blocos mais rapidamente do que os outros 49% dos mineradores, o que significa que teoricamente eles podem substituir o consenso. Mas tal ataque não pode roubar, redirecionar ou gastar bitcoin sem assinaturas. Os invasores só poderiam tentar gastar seu próprio bitcoin nos blocos mais recentes e causar interrupções de negação de serviço na criação de blocos futuros.

Além disso, se um ataque ao Bitcoin fosse bem-sucedido, a blockchain do Bitcoin se dividiria como já aconteceu várias vezes antes. Os participantes da rede podem optar por passar a oferecer suporte à cadeia 'nova' ou continuar a oferecer suporte à versão 'antiga' da cadeia. Essa divisão de versões devido a regras inerentes é conhecida como hard fork. O hard fork Bitcoin / Bitcoin Cash de 2017 provou que isso não seria prejudicial para a legitimidade do blockchain.

A segunda função principal da mineração é garantir a descentralização. Por um lado, tornar a criação de dinheiro independente de entidades centrais e apropriações de poder humano, como bancos centrais, e, por outro lado, garantir que nenhum minerador possa obter vantagem e manipular o blockchain. A tarefa de cálculo é difícil e, ao mesmo tempo, como em um sorteio, é uma questão de sorte qual computador encontrar uma solução válida primeiro. Como resultado, não é possível prever quem será o computador vencedor, o que impossibilita influenciar a blockchain. Se você não sabe quem será o primeiro, não pode manipulá-lo e ganhar a recompensa.

Se você está pensando em começar a usar bitcoin e está com receio, fique tranquilo porque a blockchain é protegido por mineração e distribuído de forma idêntica em milhares de computadores diferentes. É muito, muito seguro. Sua tarefa mais importante é auto-custódia de seu bitcoin e manter as chaves privadas (sua senha) seguras.
